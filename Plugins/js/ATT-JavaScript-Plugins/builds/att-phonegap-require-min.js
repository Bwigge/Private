define("att/util",["require","exports","module"],function(e,t,n){function r(e,t,n){if(typeof e=="object"&&e!==null){var r=n||e;if(e.forEach){if(e.every){var i;return this.every(function(){return i=t.apply(this,arguments),!i},r),i}e.forEach.call(e,t,n)}else for(var s in e)if(e.hasOwnProperty(s)){var i=t.call(r,e[s],s,e);if(i)return i}}}function i(e){var t=Array.prototype.slice.call(arguments,1).reverse();return t.forEach(function(t){r(t,function(t,n){e[n]=t})}),e}function s(e){return e===null||e===undefined||e===""}function o(e,t){var n={};try{r(e,function(e,r){if(!e)return;var i=u(t,e);s(i)||(n[r]=i)})}catch(i){return i}return n}function u(e,t){typeof t=="string"&&(t={backup:t});var n=t.paramKey,r=e[n]||"";if(!r&&t.backup){var i=typeof t.backup;i==="function"?r=t.backup(e,t):i==="string"&&(r=t.backup)}t.postProcess&&(r=t.postProcess(r,e,t)),t.prefix&&(r=t.prefix+r),t.suffix&&(r+=t.suffix);if(!r&&t.required){var s=n?' "'+n+'"':"";throw new Error("Required parameter"+s+" is undefined. Check the getHeaderConfig() for this method")}return t.validate&&t.validate(r,e,t),r}function f(e,t,n,r){e.push(encodeURIComponent(t)+r+encodeURIComponent(n))}function l(e,t,n){if(typeof e!="object")return"";var i=[],o=typeof n=="string"?n:l.defaultAssignment;return r(e,function(e,n){if(s(e))return;e instanceof Array?i.push(l.stringifyArray(n,e,t,o)):f(i,n,e,o)}),i.length===0?"":i.join(typeof t=="string"?t:l.defaultDelimiter)}function c(e,t,n){var r={},i=typeof n=="string"?n:l.defaultAssignment,s=e.split(typeof t=="string"?t:l.defaultDelimiter);return s.forEach(function(e){var t=e.split(i);if(t.length!==2)return;var n=decodeURIComponent(t[0]),s=decodeURIComponent(t[1]),o=r[n];o?o instanceof Array?o.push(s):r[n]=[o,s]:r[n]=s}),r}function h(e,t){return a.stringify(o(e,t))}function p(e,t){if(e==null)return e;var n=t.match(/(.*?)\.(.*)/);if(!n)return e[t];var r=n[1],i=n[2];return p(e[r],i)}t.forEach=r,t.copyObjTo=i,t.buildAllHeaders=o;var a=t.queryString=t.qs={};l.stringifyArray=function(e,t,n,r){var i=[],s=typeof r=="string"?r:l.defaultAssignment;return t.forEach(function(t,n){f(i,e,t,s)}),i.join(typeof n=="string"?n:l.defaultDelimiter)},l.defaultDelimiter="&",l.defaultAssignment="=",a.stringify=l,c.defaultDelimiter="&",c.defaultAssignment="=",a.parse=c,a.buildFromConfig=h,t.getFromObject=function(e,t){return p(e,t+"")}}),define("att/constants",["require","exports","module","att/util"],function(e,t,n){var r=e("att/util").copyObjTo;t.header={accept:{JSON:"application/json",XML:"application/xml",URL_ENCODED:"application/x-www-form-urlencoded"}},t.header.contentType=r({},t.header.accept)}),define("att/ajax",["require","exports","module","att/util","att/constants"],function(e,t,n){var r=e("att/util"),i=e("att/constants"),s=function(e){return function(){e.apply(this,arguments)}}($.ajax);return s.settings=$.ajaxSettings,s}),define("att/main",["require","exports","module","att/ajax","att/util","att/constants"],function(e,t,n){function l(e){s(this,e)}function c(e,t,n,r){var i=this.getRoot().bridgeFunction;if(!i)throw new Error("This function is not implemented for this platform");var s=this.getBridgeParams?this.getBridgeParams(e,t):{};i.call(this,s,n,r,e,t)}function h(e,t,n,i){function a(e){return function(){e&&e.apply(this,arguments),delete o.active}}typeof t=="function"&&i===undefined&&(i=n,n=t,t=e.getBackupParams?e.getBackupParams():{});var o={},u=e.getRoot(),f=function(u){var f=e.getAllHeaders(t);if(f instanceof Error){i(f.toString());return}u&&(f.Authorization="Bearer "+u);var l={url:e.getUrl(),type:e.type,headers:f,success:a(n),error:a(i)},c=e.executor?e.executor(l,t,n,i):l;if(c===l)try{o.active=r(l)}catch(h){i(h),o.error=h}else c&&c.constructor===Object?s(o,c):c instanceof Error?o.error=c:o.data=c};return e.skipAuthorization?f():u.accessToken?f(u.accessToken):o=u.generateAccessToken(a(f),a(i)),o}function v(e,t){var n=typeof e=="string"?e:a.stringify(e,",");return n}var r=e("att/ajax"),i=e("att/util"),s=i.copyObjTo,o=i.forEach,u=i.buildAllHeaders,a=i.qs,f=e("att/constants");s(l.prototype,{addObject:function(e,t){if(!(t instanceof l||typeof t=="function"))throw new Error("Only ATTObject or ATTMethod can be added with this method");var n=e.split("."),r=n.pop(),i=this;n.forEach(function(e){i[e]||(i[e]=new l),i=i[e]}),o(t.methods,function(e,n){t.addMethod(n,e.executor,e)}),delete t.methods,i[r]=t,t.parent=this},addMethod:function(e,t,n){function i(e,t,n){return i.parent.executor(i,e,t,n)}if(typeof t=="object"&&typeof n=="undefined"){var r=n;n=t,t=r}s(i,l.prototype,n),i.executor=t,i.methodName=e,this.addObject(e,i)},forEachToRoot:function(e,t){var n=this,r=0,i=t||this;do e.call(i,n,r++),n=n.parent;while(n)},getUrl:function(){var e="";return this.forEachToRoot(function(t){t.parent?e=(t.appendUrl||"")+e:e=(t.protocol+t.domain||"")+e}),e},getHeaderConfig:function(){var e;return this.forEachToRoot(function(t){e=s({},t.headerConfig,e)}),e},getRoot:function(){var e=this;while(e.parent)e=e.parent;return e},executor:function(){if(this.parent)return this.parent.executor.apply(this.parent,arguments)},getAllHeaders:function(e){return u(this.getHeaderConfig(),e)},buildQueryString:function(e){return"?"+a.buildFromConfig(this.qsConfig,e)}});var p=n.exports=new l({protocol:"https://",domain:"api.att.com",executor:h}),d={};return p.authorize=function(e,t,n,r,i){d.accessKeyId=e,d.secretKey=t,d.scope=n,d.grantType=r,d.outhCode=i},p.addMethod("generateAccessToken",function(t,n,r,i){var s={client_id:n.accessKeyId,client_secret:n.secretKey,grant_type:n.grantType};if(n.grantType==="authorization_code"&&n.outhCode!==null)s.code=n.outhCode;else if(n.grantType==="client_credentials")s.scope=n.scope;else{if(n.grantType!=="refresh_token"){var o=new Error("Invalid grantType. Call ATT.generateAccessToken to setup for authentication");return i(o),o}s.refresh_token=p.refreshToken}t.data=a.stringify(s);var u=t.success,l=t.error;return t.success=function(e,n,r){if(t.headers.Accept===f.header.accept.JSON&&typeof e=="String")try{e=JSON.parse(data)}catch(i){l.call(this,{error:i.message});return}p.isAuthCode===!0?(p.isAuthCode=!1,u.call(this,e.access_token)):s.grant_type==="client_credentials"||s.grant_type==="refresh_token"?(p.accessToken=e.access_token,p.refreshToken=e.refresh_token,u.call(this,p.accessToken)):l.call(this,{error:"Invalid grant type",data:data})},t.error=function(){var e=Array.prototype.slice.call(arguments,0);l.call(this,{error:o,args:e})},t},{appendUrl:"/oauth/access_token",type:"POST",getBackupParams:function(){return d},skipAuthorization:!0,headerConfig:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}),p.addObject("SMS",new l({appendUrl:"/sms/v3/messaging",headerConfig:{"Content-Type":{paramKey:"contentType"},Accept:{paramKey:"accept",required:!0,backup:"application/json"}},methods:{sendSMS:{appendUrl:"/outbox",type:"POST",executor:function(e,t){return e.data=t.contentType.toLowerCase()==="application/json"&&typeof t.body=="object"?JSON.stringify({outboundSMSRequest:t.body}):t.body,e}},getSMSDeliveryStatus:{appendUrl:"/outbox/",type:"GET",executor:function(e,t){return e.url+=t.smsId,e}},getSMS:{appendUrl:"/inbox/",type:"GET",executor:function(e,t){return e.url+=t.registrationId,e}}}})),p.addObject("MMS",new l({appendUrl:"/mms/v3/messaging/outbox",headerConfig:{Accept:{paramKey:"accept"}},methods:{sendMMS:{type:"POST",headerConfig:{"Content-Type":{paramKey:"contentType"}},executor:c,getBridgeParams:function(e,t){var n=e.headers["Content-Type"]===f.header.contentType.JSON?'{"outboundMessageRequest":'+(typeof t.body=="object"?JSON.stringify(t.body):t.body)+"}":t.body;return{body:n||"",contentType:e.headers["Content-Type"]||"",accept:e.headers.Accept||"",accessToken:e.headers.Authorization,url:e.url,attachments:t.attachments&&t.attachments.length>0?t.attachments:[{}]}}},getMMSDeliveryStatus:{type:"GET",executor:function(e,t,n,r){return e.url+="/"+t.id,e}}}})),function(){function t(e,t,n,r){var i=e.url;return i+=this.buildQueryString(t),n(i),i}function n(e,t){return e.url+t.notificationId,e}var e={Signature:{paramKey:"signature"},SignedPaymentDetail:{paramKey:"signedDocument"},clientid:{paramKey:"clientId"}};p.addObject("Payment",new l({appendUrl:"/rest/3/Commerce/Payment",methods:{newSubscription:{appendUrl:"/Subscriptions",type:"GET",skipAuthorization:!0,executor:t,qsConfig:e},getSubscriptionStatus:{appendUrl:"/Subscriptions/",type:"GET",headerConfig:{Accept:{paramKey:"accept"}},executor:function(e,t,n,r){return t.subscriptionId?e.url+="SubscriptionId/"+t.subscriptionId:t.merchantTransactionId?e.url+="MerchantTransactionId/"+t.merchantTransactionId:t.subscriptionAuthCode&&(e.url+="SubscriptionAuthCode/"+t.subscriptionAuthCode),e}},getSubscriptionDetails:{appendUrl:"/Subscriptions/",type:"GET",headerConfig:{Accept:{paramKey:"accept"}},executor:function(e,t,n,r){return e.url+=t.merchantSubscriptionId+"/Detail/"+t.consumerId,e}},newTransaction:{appendUrl:"/Transactions",type:"GET",skipAuthorization:!0,executor:t,qsConfig:e},getTransactionStatus:{appendUrl:"/Transaction/",type:"GET",headerConfig:{Accept:{paramKey:"accept"}},executor:function(e,t,n,r){return t.transactionId?e.url+="TransactionId/"+t.transactionID:t.merchantTransactionId?e.url+="MerchantTransactionId/"+t.merchantTransactionId:t.transactionAuthCode&&(e.url+="TransactionAuthCode/"+t.transactionAuthCode),e}},refundTransaction:{appendUrl:"/Transactions",type:"PUT",headerConfig:{"Content-Type":{paramKey:"contentType"},Accept:{paramKey:"accept"}},executor:function(e,t,n,r){return e.url+=t.transactionId+"?Action="+t.action,e.data=t.body,e}},getNotification:{appendUrl:"/Notifications/",type:"GET",headerConfig:{Accept:{paramKey:"accept"}},executor:n},acknowledgeNotification:{appendUrl:"/Notifications/",type:"PUT",headerConfig:{Accept:{paramKey:"accept"}},executor:n}}}))}(),p.addObject("IMMN",new l({appendUrl:"/rest/1/MyMessages",headerConfig:{Accept:{paramKey:"accept"}},methods:{sendMessage:{type:"POST",headerConfig:{"Content-Type":{paramKey:"contentType"}},executor:c,getBridgeParams:function(e,t){return{body:t.body||"",contentType:e.headers["Content-Type"]||"",accept:e.headers.Accept||"",accessToken:e.headers.Authorization,url:e.url,attachments:t.attachments&&t.attachments.length>0?t.attachments:[{}]}}},getMessageHeaders:{type:"GET",executor:function(e,t){return e.url+=this.buildQueryString(t),e},qsConfig:{HeaderCount:{paramKey:"headerCount"},IndexCursor:{paramKey:"indexCursor"}}},getMessageContent:{type:"GET",executor:function(e,t){return e.url+="/"+t.messageId,t.partNumber&&(e.url+="/"+t.partNumber),e}}}})),p.addObject("CMS",new l({appendUrl:"/rest/1/Sessions",headerConfig:{"Content-Type":{paramKey:"contentType"},Accept:{paramKey:"accept"}},methods:{createSession:{type:"POST",executor:function(e,t){return!t.body||!t.body.feature?new Error("params.body.feature is missing"):(e.data=t.body,e)}},sendSignal:{type:"POST",executor:function(e,t){return e.url+="/"+t.cmsId+"/Signals",e.data=t.body,e}}}})),p.addObject("Ads",new l({appendUrl:"/rest/1/ads",methods:{getAds:{type:"GET",headerConfig:{Accept:{paramKey:"accept"},Udid:{paramKey:"udid",required:!0}},executor:function(e,t){var n=typeof t.body=="string"?t.body:a.stringify(t.body);return e.url+="?"+n,e}}}})),p.addObject("OAuth",new l({appendUrl:"/oauth",methods:{obtainEndUserAuthorization:{type:"GET",appendUrl:"/authorize",skipAuthorization:!0,executor:function(e,t){return t.clientId!==undefined&&t.scope!==undefined&&(e.url+=this.buildQueryString(t)),e},qsConfig:{client_id:{paramKey:"clientId"},scope:{paramKey:"scope"},redirect_url:{paramKey:"redirectUrl"}}}}})),p.addObject("WAPPush",new l({appendUrl:"/1/messages/outbox/wapPush",methods:{sendWAPPush:{type:"POST",headerConfig:{"Content-Type":{paramKey:"contentType"},Accept:{paramKey:"accept"}},executor:c,getBridgeParams:function(e,t){return{url:e.url,accessToken:e.headers.Authorization,contentType:e.headers["Content-Type"]||"",accept:e.headers.Accept||"",body:t.body?t.body:"null",data:t.data?t.data:"null"}}}}})),p.addObject("Location",new l({appendUrl:"/2/devices/location",methods:{getDeviceLocation:{type:"GET",headerConfig:{Accept:{paramKey:"accept"}},executor:function(e,t){return e.url+=this.buildQueryString(t),e},qsConfig:{requestedAccuracy:{paramKey:"requestedAccuracy"},tolerance:{paramKey:"tolerance"},acceptableAccuracy:{paramKey:"acceptableAccuracy"}}}}})),p.addObject("Speech",new l({appendUrl:"/speech/v3/speechToText",methods:{speechToText:{type:"POST",headerConfig:{Accept:{paramKey:"accept"},"Content-Type":{paramKey:"contentType",required:!0},"Transfer-Encoding":{paramKey:"transferEncoding"},"X-SpeechContext":{paramKey:"xSpeechContext"},"X-SpeechSubContext":{paramKey:"xSpeechSubContext"},"Content-Language":{paramKey:"contentLanguage"},"Content-Length":{paramKey:"contentLength",backup:function(e){try{var t=Ti.Filesystem.getFile(e.filePath);return t.length}catch(n){}}},"X-Arg":{paramKey:"xArg",postProcess:v}},executor:c,getBridgeParams:function(e,t){return{filePath:t.filePath||"",host:e.url,token:e.headers.Authorization,headerAccept:e.headers.Accept||"",headerContentType:e.headers["Content-Type"]||"",headerXSpeechContent:e.headers["X-SpeechContext"]||"",headerContentLength:e.headers["Content-Length"]||"",headerTransferEncoding:e.headers["Transfer-Encoding"]||"",headerContentLanguage:e.headers["Content-Language"]||"",headerXSpeechSubContext:e.headers["X-SpeechSubContext"]||"",headerXArg:e.headers["X-Arg"]||""}}}}})),p.addObject("TTS",new l({appendUrl:"/speech/v3/textToSpeech",methods:{textToSpeech:{type:"POST",headerConfig:{Accept:{paramKey:"accept"},"Content-Type":{paramKey:"contentType",required:!0},"Content-Language":{paramKey:"contentLanguage"},"Content-Length":{paramKey:"contentLength",backup:function(e){return e.body.length}},"X-Arg":{paramKey:"xArg",postProcess:v}},executor:c,getBridgeParams:function(e,t){return{url:e.url,token:e.headers.Authorization,body:t.body||"",data:t.data,contentType:t.contentType||"",accept:t.accept||"",xarg:t.xarg,filePath:t.filePath}}}}})),p}),define("att",["att/main","att/util","att/ajax","att/constants"],function(e,t,n,r){var i="AttPlugin";e.bridgeFunction=function(t,n,r){Cordova.exec(n,r,i,this.methodName,[t])},e.Speech.speechToText.getBridgeParams=function(e,t){return{filePath:t.filePath||"",url:e.url,token:e.headers.Authorization,accept:e.headers.Accept||"",contentType:e.headers["Content-Type"]||"",XSpeechContext:e.headers["X-SpeechContext"]||"",contentLength:e.headers["Content-Length"]||"",transferEncoding:e.headers["Transfer-Encoding"]||"",contentLanguage:e.headers["Content-Language"]||"",xarg:e.headers["X-Arg"]||""}},e.tts=e.TTS;var s=e.executor;return e.executor=function(e,t,n,r){var i=n;return i&&(arguments[2]=function(e,t,n){if(typeof e=="object"&&e!==null)try{arguments[0]=JSON.stringify(e)}catch(r){}i.apply(this,arguments)}),s.apply(this,arguments)},e.ATT=e,e}),define("att-phonegap",function(){});